<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Maximilian - A Discord Bot" property="og:title" />
    <meta content="A discord bot with some cool features that does some cool stuff." property="og:description" />
    <meta content="https://tk421bsod.github.io/maximilian" property="og:url" />
    <meta content="#36393f" data-react-helmet="true" name="theme-color" />
    <title>Maximilian - A Discord Bot</title>
    <!-- <link rel="stylesheet" href="common.css"> -->
    <link href="./deps/bootstrap.min.css" rel="stylesheet">
    <script async src="./deps/bootstrap.bundle.min.js"></script>
    <!-- TODO: selfhost this -->
    <script async src="./deps/fa.js"></script>
    <style>
        body{
            background-color: #36393f;   
            color: white;
            font-smooth:always;
            -webkit-font-smoothing:subpixel-antialiased;
            scroll-behavior:smooth;
        }

        .fixed-center{
            position: fixed;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 1030;
        }

        #navbar{
            background-color: #36393f;
        }

        #header{
            font-weight:400;
        }

        #theme-notif{
            transition: width 0.5s ease-out, padding 1s ease-in-out, margin 1s ease-in-out, opacity .3s linear;
            overflow:hidden;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-dark sticky-top" id="navbar" role="navigation">
        <div class="container-fluid justify-content-left text-left">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center text-center" id="navbarSupportedContent">
                <ul class="navbar-nav w-100 nav-justified">
                    <li class="visually-hidden-focusable nav-item"><a href="#main-content" class="visually-hidden-focusable nav-link" onclick="setTimeout(function(){window.scrollTo(0,0)}, 50);">Skip to content</a></li>
                    <li class="nav-item"><a id="active" class="nav-link active" href=".">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="./changelog.html">Changelog</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://discord.com/api/oauth2/authorize?client_id=620022782016618528&permissions=268814336&scope=bot" target="_blank"><i class="fas fa-external-link-alt"></i> Invite</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://github.com/tk421bsod/maximilian" target="_blank"><i class="fas fa-external-link-alt"></i> Source Code</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://discord.gg/Ugpx8R8" target="_blank"><i class="fas fa-external-link-alt"></i> Support Server</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid justify-content-center text-center align-items-center" id="main-content">
    <h1 style="font-size: 50pt; padding-bottom:20px; padding-top:30px;" id="header">Maximilian</h1>
    <h1 style="font-size: 16pt;" class="mb-4" id="header-desc">A Discord bot with some cool features that does some cool stuff.</h1>
    <div class="btn-group justify-content-center text-center align-items-center">
        <a class="btn btn-block btn-outline-light" style="" href="https://discord.com/api/oauth2/authorize?client_id=620022782016618528&permissions=268814336&scope=bot" target="_blank">Invite Maximilian</a>
        <a class="btn btn-block btn-outline-light" style="" href="https://discord.gg/Ugpx8R8" target="_blank">Support Server</a>
    </div>
    <hr>
        <h1 class="mb-5 mt-2">Why Maximilian?</h1>
    <!-- this row had trouble stacking on mobile for a while, no clue why -->
    <div class="row mb-4 align-items-center justify-content-center w-100">
        <div class="col">
            <img src="./img/placeholder.jpg" style="width:25rem; height:auto;" alt="Placeholder image">
        </div>
        <div class="col">
            <h2>Feature-rich</h2>
        </div>
        <div class="col">
            <p>Say goodbye to using a multitude of bots.<br>Maximilian has a ton of features that improve your Discord server, like reaction roles, music, reminders, todo lists, and moderation.</p>
        </div>
    </div>
   <!-- 
    <div class="row mb-4 align-items-center justify-content-center w-100">
        <div class="col">
            <img src="./img/music.png" style="width:20rem; height:auto;" alt="Image showing someone playing music using Maximilian">
        </div>
        <div class="col">
            <h2>Privacy</h2>
        </div>
        <div class="col">
            <p>Maximilian only collects data necessary for its features to work, like IDs for roles, channels, users, and servers. It never collects any personal information and no data is sold to anyone. For more information, use the `privacy` command.</p>
        </div>
    </div>    
-->
    <div class="row mb-4 align-items-center justify-content-center w-100">
        <div class="col">
            <img src="./img/placeholder.jpg" style="width:25rem; height:auto;" alt="Placeholder image">
        </div>
        <div class="col">
            <h2>Completely Free</h2>
        </div>
        <div class="col">
            <p>Wondering how much the premium version costs? There's no such thing. None of Maximilian's features are locked behind paywalls.</p>
        </div>
    </div>

    <div class="row mb-4 align-items-center justify-content-center w-100">
        <div class="col">
            <img src="./img/placeholder.jpg" style="width:25rem; height:auto;" alt="Placeholder image">
        </div>
        <div class="col">
            <h2>Forever Open-Source</h2>
        </div>
        <div class="col">
            <p>Concerned about Maximilian giving you a virus/stealing your data/spamming you with Nitro scams/logging your IP?<br>To help answer questions like this, Maximilian's source code is available at <a class='link-light' href="https://github.com/tk421bsod/maximilian" style="transition: color 0.6s ease-in-out;" target="_blank"><i class="fas fa-external-link-alt fa-sm"></i> github.com/tk421bsod/maximilian</a>.</p>
        </div>
    </div>

    <div class="row mt-4 align-items-center justify-content-center w-100">
        <div class="col">
            <img src="./img/customizability.png" style="width:25rem; height:auto;" alt="Image showing Maximilian's extensibility">
        </div> 
        <div class="col">
            <h2>Customizable</h2>
        </div>
        <div class="col">
            <p class="feature-desc">Easy setup, an easy-to-use extension API, and a modular design make Maximilian the most customizable Discord bot out there.</p>
        </div>
    </div>
    <div class="toast align-items-center fixed-center mx-auto" role="alert" aria-live="assertive" aria-atomic="true" id="theme-notif" data-bs-autohide="false" style="width: 425px;">
        <div class="d-flex" id="theme-notif-main" style="">
            <div class="toast-body" id="theme-set" style="color:black">
                 <div class="toast-subsection text-muted" style="font-size:8pt">
                    Use the button at the bottom to change the theme later.
                </div>   
            </div>
            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close" style="padding-right: 0; transition: opacity 0.5s ease, transform 0.5s ease; transform: scale(0.01, 0.01); left: 420px; top:35%; position:absolute;" id="theme-notif-close"></button>
        </div>
    </div>
    </div>
    <footer class="footer text-center" style="color:#898f9c">Made with ♥️ by tk421 (<a style="color:#898f9c" href="https://github.com/tk421bsod" target="_blank">TK421bsod</a> on GitHub)  <button class="btn btn-outline-light" style="overflow:hidden;" id="theme-button"><p id="theme-toggle"></p></button></footer>
<script>
function toggleTheme(){
    toggle = ! getCurrentTheme();
    initTheming();
}

function getCurrentTheme(){
    // true == dark theme, false == light theme
    try {
        return toggle
    } catch (error){
        Function.prototype() //toggled not set yet? check system theme
    }
    try {
        return window.matchMedia("(prefers-color-scheme:dark)").matches;
    } catch (error){
        //browser doesn't support this? default to dark theme
        return true
    }
}

function applyLightStyling(){
    console.log("switching to light theme")
    document.body.style.color = "#36393f"; document.body.style.backgroundColor = "white"; for (const each of document.getElementsByClassName('btn')){each.className = each.className.replace('btn-outline-light', 'btn-outline-dark')}; for (const each of document.getElementsByTagName('a')){each.className = each.className.replace('link-light', 'link-dark')}; document.getElementById('navbar').className = document.getElementById('navbar').className.replace("navbar-dark", "navbar-light"); document.getElementById('navbar').style.backgroundColor = "white";
}

function applyDarkStyling(){
    console.log("switching to dark theme")
    document.body.style.color = "white"; document.body.style.backgroundColor = "#36393f"; for (const each of document.getElementsByClassName('btn')){each.className = each.className.replace('btn-outline-dark', 'btn-outline-light')}; for (const each of document.getElementsByTagName('a')){each.className = each.className.replace('link-dark', 'link-light')}; document.getElementById('navbar').className = document.getElementById('navbar').className.replace("navbar-light", "navbar-dark"); document.getElementById('navbar').style.backgroundColor = "#36393f"
}

function addCloseButton(){
    try{
        if (added){
            return
        }
    } catch(error){
        added = true
    }
    console.log("adding close button")
    document.getElementById('theme-notif-close').style.transform = "scale(1, 1)";
    document.getElementById('theme-notif').style.width = "445px";
    added = true
}

function removeCloseButton(){
    if (! added){
        return
    }
    console.log("removing close button")
    document.getElementById('theme-notif-close').style.transform = "scale(0.01, 0.01)";
    document.getElementById('theme-notif').style.width = "425px";
    added = false
}

function getNotifRef(name){
    return bootstrap.Toast.getOrCreateInstance(document.getElementById(name))
}

function hideThemeNotif(){
    if (held){
        console.log("Attempted to hide theme notif when it was held!")
        return
    }
    console.log("Hiding theme notif")
    document.getElementById("theme-notif").style.marginBottom = "1.5%";
    setTimeout(getNotifRef('theme-notif').hide(), 500);
}

function holdNotif(){
    if (held){
        console.log("Notif already held!")
        return //event handler may have gone off twice
    }
    console.log('Holding notif')
    let themeNotifRef = getNotifRef('theme-notif');
    clearTimeout(notifEndAnim);
    held = true
}

function releaseNotif(){
    if (! held){
        return
    }
    console.log("Releasing notif, hiding after " + String(notifEndAnimDelay) + "ms")
    held = false;
    notifEndAnim = setTimeout(hideThemeNotif, notifEndAnimDelay);
}

function showThemeNotif(theme){
    console.log("Showing notif")
    notifEndAnimDelay = 5400
    held = false
    let themeNotif = document.getElementById("theme-notif")
    document.getElementById("theme-set").innerHTML = "Automatically enabled <b> " + theme + " theme</b> based on your system theme." + document.getElementById("theme-set").innerHTML;
    themeNotif.addEventListener("mouseover", addCloseButton);
    themeNotif.addEventListener("mouseover", holdNotif);
    themeNotif.addEventListener("mouseout", removeCloseButton);
    themeNotif.addEventListener("mouseout", releaseNotif);
    themeNotif.addEventListener("focusin", addCloseButton);
    themeNotif.addEventListener("focusin", holdNotif);
    themeNotif.addEventListener("focusout", removeCloseButton);
    themeNotif.addEventListener("focusout", releaseNotif);
    getNotifRef('theme-notif').show();
    setTimeout(function(){document.getElementById("theme-notif").style.marginBottom = "1%";}, 500)
    notifEndAnim = setTimeout(hideThemeNotif, notifEndAnimDelay)
}

function initTheming(){
    console.log("initializing theming")
    let theme = getCurrentTheme();
    let themeToggle = document.getElementById('theme-toggle');
    let themeButton = document.getElementById('theme-button');
    if (theme == true){
        try {
            toggle == true;
            toggle = true;
            applyDarkStyling();
            document.body.style.opacity = "1";
        } catch (error){
            applyDarkStyling();
            document.body.style.opacity = "1";
            showThemeNotif("dark")
        }
        themeToggle.innerHTML = "<i class=\"fas fa-sun fa-xs\"></i>";
        themeToggle.title = "Switch to light theme";
        themeToggle.style.marginBottom = "0";
    } else {
        try {
            toggle == false;
            toggle = false;
            applyLightStyling();
            document.body.style.opacity = "1";
        } catch (error){
            applyLightStyling();
            document.body.style.opacity = "1";
            showThemeNotif("light");
        }
        themeToggle.innerHTML = "<i class=\"fas fa-moon fa-xs\"></i>";
        themeToggle.title = "Switch to dark theme";
        themeToggle.style.marginBottom = "0";
    }
    document.body.style.transition = "background-color 0.6s ease-in-out, color 0.6s ease-in-out, transform 0.6s ease-in-out";
    document.querySelector('a').style.transition = "color .15s ease-in-out, background-color .6s ease-in-out, border-color .15s ease-in-out;";
    document.getElementById('navbar').style.transition = "background-color 0.6s ease-in-out, color 0.6s ease-in-out";
}

//sometimes the page will scroll a bit too far when using the 'Skip to content' link
//this is an attempt to fix that
if(window.location.href.includes('#main-content')){
    setTimeout(function(){window.scrollTo(0,0);}, 50);
}

document.body.style.opacity = 0;
document.body.style.backgroundColor = "white";
window.onload = function(){
    initTheming()
    document.getElementById('theme-button').addEventListener("click", toggleTheme);
}
</script>
</body>
</html>
